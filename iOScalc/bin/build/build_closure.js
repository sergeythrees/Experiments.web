function d(a,c){this.a=a;this.b=c}function g(){this.b=[];this.a=0}function h(a,c){a.a<a.b.length?(a.a++,a.b.length=a.a,a.b[a.a-1]=c):(a.b.push(c),a.a++);10<a.b.length&&(a.b.pop(),a.a--)}function k(a){return a.b[a.a-1]};function l(a){var c=new m,n=new g,e=this;this.c=a;this.b=c;this.a=n;var f=this.c,b=this.b;p(f.h,function(a){b.f?(q(b,a),b.f=!1,b.g=!1):q(b,String(r(b))+String(a));t(b.c,r(b))});p(f.g,function(){if(!b.g||b.f)q(b,r(b)+"."),b.g=!0,b.f=!1,t(b.c,r(b))});p(f.a,function(){return u(b,b.m)});p(f.i,function(){return u(b,b.j)});p(f.j,function(){return u(b,b.i)});p(f.m,function(){return u(b,b.l)});p(f.b,function(){var a=+e.b.b,c=v(e.b);h(e.a,new d(function(){var a=(0,b.h)(+b.b,c);b.b=String(a);t(b.c,+b.b)},function(){b.b=
String(a);t(b.c,+b.b)}));k(e.a).a()});p(f.c,function(){q(b,String(-r(b)));b.f=!1;t(b.c,r(b))});p(f.l,function(){null!=b.a&&(b.a=String(+b.a/100),t(b.c,r(b)))});p(f.f,function(){var a=e.a;a.b=[];a.a=0;b.a=null;b.b="0";b.g=!1;b.f=!0;u(b,null);t(b.c,r(b))});p(b.c,function(a){a=String(a);a=String(Math.round(1E4*+a)/1E4);6<a.length&&(a=String((+a).toExponential()));f.o.textContent=String(a)})};function w(){this.a=[]}function t(a,c){c=void 0===c?null:c;a.a.forEach(function(a){a(c)})}function p(a,c){a.a.push(c)};function m(){this.h=null;this.c=new w;this.f=!0;this.g=!1;this.b="0";this.a=null}function v(a){a.a||(a.a=a.b);return+a.a}function u(a,c){a.h=c;a.a=null;a.f=!0}function r(a){return+(null===a.a?a.b:a.a)}function q(a,c){a.h?a.a=String(c):a.b=String(c)}m.prototype.j=function(a,c){return a/c};m.prototype.i=function(a,c){return a*c};m.prototype.m=function(a,c){return a+c};m.prototype.l=function(a,c){return a-c};function x(){this.o=document.getElementById("displayId");this.h=new w;this.f=new w;this.c=new w;this.l=new w;this.i=new w;this.j=new w;this.m=new w;this.a=new w;this.b=new w;this.g=new w};(function(){function a(a,b){document.getElementById(a).addEventListener("click",b)}for(var c=new x,n=new l(c),e={id:0};9>=e.id;e={id:e.id},++e.id)a(String(e.id),function(a){return function(){return t(c.h,a.id)}}(e));[["AC",function(){return t(c.f)}],["+/-",function(){return t(c.c)}],["%",function(){return t(c.l)}],["\u00f7",function(){return t(c.i)}],["*",function(){return t(c.j)}],["-",function(){return t(c.m)}],["+",function(){return t(c.a)}],["=",function(){return t(c.b)}],[",",function(){return t(c.g)}]].forEach(function(c){return a(c[0],
c[1])});document.addEventListener("keydown",function(a){if(90==a.keyCode&&a.ctrlKey&&!a.shiftKey){var b=n.a;b.a&&(b.b[b.a-1].b(),b.a--)}90==a.keyCode&&a.ctrlKey&&a.shiftKey&&(a=n.a,a.a<a.b.length&&(a.a++,a.b[a.a-1].a()))})})();
